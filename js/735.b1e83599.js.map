{"version":3,"file":"js/735.b1e83599.js","mappings":"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","sources":["webpack://dspt/./src/views/Login/index.vue?c51b","webpack://dspt/./src/utils/storage.js","webpack://dspt/src/views/Login/index.vue","webpack://dspt/./src/views/Login/index.vue?c6a7","webpack://dspt/./src/views/Login/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gp gp-login\"},[_c('el-form',{ref:\"loginFormRef\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('el-form-item',[_c('h1',[_c('img',{attrs:{\"src\":_vm.iconTitle,\"alt\":\"\"}})])]),_c('el-form-item',{attrs:{\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"手机号码\"},model:{value:(_vm.ruleForm.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"phone\", $$v)},expression:\"ruleForm.phone\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":_vm.iconPhone,\"alt\":\"\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"placeholder\":\"密码\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":_vm.iconPassWord,\"alt\":\"\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"verify\"}},[_c('el-row',{attrs:{\"gutter\":16}},[_c('el-col',{attrs:{\"span\":14}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"验证码\"},model:{value:(_vm.ruleForm.verify),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"verify\", $$v)},expression:\"ruleForm.verify\"}},[_c('img',{attrs:{\"slot\":\"prefix\",\"src\":_vm.iconVerify,\"alt\":\"\"},slot:\"prefix\"})])],1),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"grid-content bg-purple\"})])],1)],1),_c('el-form-item',{staticClass:\"login-checked\"},[_c('div',{staticClass:\"login-checked__content\"},[_c('el-checkbox',{model:{value:(_vm.ruleForm.checked),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checked\", $$v)},expression:\"ruleForm.checked\"}},[_vm._v(\"记住账号\")]),_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false}},[_vm._v(\"忘记密码？\")])],1)]),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\" 登 录 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function typeOf(target) {\n  return Object.prototype.toString.call(target).slice(8, -1);\n}\n\nexport default {\n  getLocal: (key) => {\n    try {\n      const value = window.localStorage.getItem(key);\n      return JSON.parse(value);\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  setLocal: (key, val) => {\n    try {\n      const value = JSON.stringify(val);\n      window.localStorage.setItem(key, value);\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  eachLocal: (func) => {\n    if (!func || typeOf(func) !== 'Function') {\n      return console.error('传递参数非函数类型!');\n    }\n    for (let i = 0, len = window.localStorage.length; i < len; i++) {\n      const key = window.localStorage.key(i);\n      func(this.getLocal(key), key);\n    }\n  },\n  clearLocal: () => {\n    window.localStorage.clear();\n  },\n  removeLocal: (key) => {\n    window.localStorage.removeItem(key);\n  },\n\n  getSession: (key) => {\n    try {\n      const value = window.sessionStorage.getItem(key);\n      return JSON.parse(value);\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  setSession: (key, val) => {\n    try {\n      const value = JSON.stringify(val);\n      window.sessionStorage.setItem(key, value);\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  eachSession: (func) => {\n    if (!func || typeOf(func) !== 'Function') {\n      return console.error('传递参数非函数类型!');\n    }\n    for (let i = 0, len = window.sessionStorage.length; i < len; i++) {\n      const key = window.sessionStorage.key(i);\n      func(this.getSession(key), key);\n    }\n  },\n  clearSession: () => {\n    window.sessionStorage.clear();\n  },\n  removeSession: (key) => {\n    window.sessionStorage.removeItem(key);\n  },\n};\n","<template>\n  <div class=\"gp gp-login\">\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"loginFormRef\">\n      <el-form-item>\n        <!-- <el-image :src=\"urls\"></el-image> -->\n        <h1><img :src=\"iconTitle\" alt=\"\" /></h1>\n      </el-form-item>\n      <el-form-item prop=\"phone\">\n        <el-input v-model=\"ruleForm.phone\" clearable placeholder=\"手机号码\">\n          <img :src=\"iconPhone\" alt=\"\" slot=\"prefix\" />\n        </el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input v-model=\"ruleForm.password\" type=\"password\" clearable placeholder=\"密码\">\n          <img :src=\"iconPassWord\" alt=\"\" slot=\"prefix\" />\n        </el-input>\n      </el-form-item>\n      <el-form-item prop=\"verify\">\n        <el-row :gutter=\"16\">\n          <el-col :span=\"14\">\n            <el-input v-model=\"ruleForm.verify\" clearable placeholder=\"验证码\">\n              <img :src=\"iconVerify\" alt=\"\" slot=\"prefix\" />\n            </el-input>\n          </el-col>\n          <el-col :span=\"10\"><div class=\"grid-content bg-purple\"></div></el-col>\n        </el-row>\n      </el-form-item>\n      <el-form-item class=\"login-checked\">\n        <div class=\"login-checked__content\">\n          <el-checkbox v-model=\"ruleForm.checked\">记住账号</el-checkbox>\n          <el-link type=\"primary\" :underline=\"false\">忘记密码？</el-link>\n        </div>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"> 登 录 </el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n// import { sm3Digest, sm4Encrypt, sm4Decrypt } from \"@/utils/gm-crypto\";\n// import { mapMutations } from \"vuex\";\nimport storage from '@/utils/storage';\n// import Cookies from \"js-cookie\";\n\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      ruleForm: {\n        phone: '',\n        password: '',\n        verify: '',\n        checked: false,\n      },\n      iconTitle: require('../../assets/images/login/title.png'),\n      iconPhone: require('../../assets/images/login/phone.png'),\n      iconPassWord: require('../../assets/images/login/pass.png'),\n      iconVerify: require('../../assets/images/login/verify.png'),\n      rules: {\n        phone: [\n          { required: true, message: '请输入手机号码' },\n          { pattern: /^((0\\d{2,3}-\\d{7,8})|(1[3584]\\d{9}))$/, message: '请输入合法手机号码', trigger: 'blur' },\n        ],\n        password: [{ required: true, message: '密码不能为空' }],\n        verify: [\n          { required: true, message: '验证码不能为空' },\n          { min: 6, max: 6, message: '验证码长度为6个字符', trigger: 'blur' },\n        ],\n      },\n    };\n  },\n  mounted() {\n    window.addEventListener('keydown', this.keyDown); //监听用户回车事件\n  },\n  destroyed() {\n    window.removeEventListener('keydown', this.keyDown, false); //销毁回车事件，如果不销毁，在其他页面敲回车也会执行回车登录操作。\n  },\n  created() {\n    let phone = localStorage.getItem('phone');\n    if (phone !== null) {\n      this.ruleForm.phone = phone;\n      this.ruleForm.checked = true;\n    }\n  },\n  methods: {\n    submitForm() {\n      this.$refs.loginFormRef.validate((valid) => {\n        if (valid) {\n          const { phone } = this.ruleForm;\n          //记住账号\n          if (phone !== null) {\n            localStorage.setItem('phone', this.ruleForm.phone);\n            storage.setLocal(['authority'], this.ruleForm.phone);\n            this.$message({\n              message: '登录成功！',\n              type: 'success',\n            });\n            this.$router.push('/home');\n          } else {\n            localStorage.removeItem('phone');\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    //回车登录\n    keyDown(e) {\n      if (e.keyCode == 13) {\n        //13是回车键的keycode\n        if (this.ruleForm != '') {\n          this.login();\n        } else {\n          this.submitForm('ruleForm');\n        }\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=43327808&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","ruleForm","rules","iconTitle","model","value","callback","$$v","$set","expression","iconPhone","slot","iconPassWord","iconVerify","_v","on","$event","submitForm","staticRenderFns","typeOf","target","Object","prototype","toString","call","slice","getLocal","key","window","localStorage","getItem","JSON","parse","error","console","setLocal","val","stringify","setItem","eachLocal","func","i","len","length","clearLocal","clear","removeLocal","removeItem","getSession","sessionStorage","setSession","eachSession","clearSession","removeSession","name","data","phone","password","verify","checked","required","message","pattern","trigger","min","max","mounted","addEventListener","keyDown","destroyed","removeEventListener","created","methods","$refs","loginFormRef","validate","valid","storage","$message","type","$router","push","e","keyCode","login","component"],"sourceRoot":""}